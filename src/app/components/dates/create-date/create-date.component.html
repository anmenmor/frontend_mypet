<div *ngIf="valid" class="container">
    <h2>Pedir cita</h2>
    <br /><br />
  
    <form
      [formGroup]="addDate"
      (ngSubmit)="onSubmit(addDate.value)"
    >
      <div *ngIf="clients.length > 0 && pet_id == null" class="form-group">
        <label for="client_id">¿Qué cliente ha pedido cita?</label>
        <select class="custom-select" (change)="updateId($any($event.target).value)">
          <option value="">Selecciona...</option>
          <option *ngFor="let client of clients" value="{{ client.id }}">
            {{ client.name }}
          </option>
        </select>
      </div>
  
      <div *ngIf="pets.length > 0" class="form-group">
        <label for="pet_id">¿Qué mascota requiere cita?</label>
        <select class="custom-select" formControlName="pet_id" [value]="pet_id">
          <option value="">Selecciona...</option>
          <option *ngFor="let pet of pets" value="{{ pet.id }}">
            {{ pet.name }}
          </option>
        </select>
      </div>
  
      <div class="form-group">
        <label for="date_time">Fecha programada para la cita</label>
        <input
          type="date"
          class="form-control"
          id="date_time"
          formControlName="date_time"
        />
      </div>
  
      <div class="form-group">
        <label for="employee_id">Veterinario encargado de la cita</label>
        <select
          class="custom-select"
          formControlName="employee_id"
          [value]="employee_id"
        >
          <option value="">Selecciona...</option>
          <option *ngFor="let employee of employees" value="{{ employee.id }}">
            {{ employee.name }}
          </option>
        </select>
      </div>
  
      <button class="btn btn-primary" type="submit">Añadir cita</button>&nbsp;&nbsp;&nbsp;
      <button class="btn btn-secondary" type="button" (click)="return()">Volver atrás</button>
    </form>
    <br /><br />
  
    <p [innerHTML]="htmlMsg"></p>
  </div>